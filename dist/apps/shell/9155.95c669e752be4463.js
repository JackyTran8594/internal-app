(self.webpackChunkshell=self.webpackChunkshell||[]).push([[9155],{4968:(A,U,l)=>{l.d(U,{R:()=>v});var D=l(8421),m=l(9751),t=l(5577),T=l(1144),p=l(576),d=l(3268);const C=["addListener","removeListener"],u=["addEventListener","removeEventListener"],c=["on","off"];function v(s,f,M,R){if((0,p.m)(M)&&(R=M,M=void 0),R)return v(s,f,M).pipe((0,d.Z)(R));const[W,K]=function g(s){return(0,p.m)(s.addEventListener)&&(0,p.m)(s.removeEventListener)}(s)?u.map(F=>B=>s[F](f,B,M)):function E(s){return(0,p.m)(s.addListener)&&(0,p.m)(s.removeListener)}(s)?C.map(L(s,f)):function O(s){return(0,p.m)(s.on)&&(0,p.m)(s.off)}(s)?c.map(L(s,f)):[];if(!W&&(0,T.z)(s))return(0,t.z)(F=>v(F,f,M))((0,D.Xf)(s));if(!W)throw new TypeError("Invalid event target");return new m.y(F=>{const B=(...P)=>F.next(1<P.length?P:P[0]);return W(B),()=>K(B)})}function L(s,f){return M=>R=>s[M](f,R)}},9300:(A,U,l)=>{l.d(U,{h:()=>t});var D=l(4482),m=l(5403);function t(T,p){return(0,D.e)((d,C)=>{let u=0;d.subscribe((0,m.x)(C,c=>T.call(p,c,u++)&&C.next(c)))})}},4004:(A,U,l)=>{l.d(U,{U:()=>t});var D=l(4482),m=l(5403);function t(T,p){return(0,D.e)((d,C)=>{let u=0;d.subscribe((0,m.x)(C,c=>{C.next(T.call(p,c,u++))}))})}},5577:(A,U,l)=>{l.d(U,{z:()=>u});var D=l(4004),m=l(8421),t=l(4482),T=l(9672),p=l(5403),C=l(576);function u(c,v,L=1/0){return(0,C.m)(v)?u((E,O)=>(0,D.U)((g,s)=>v(E,g,O,s))((0,m.Xf)(c(E,O))),L):("number"==typeof v&&(L=v),(0,t.e)((E,O)=>function d(c,v,L,E,O,g,s,f){const M=[];let R=0,W=0,K=!1;const F=()=>{K&&!M.length&&!R&&v.complete()},B=w=>R<E?P(w):M.push(w),P=w=>{g&&v.next(w),R++;let j=!1;(0,m.Xf)(L(w,W++)).subscribe((0,p.x)(v,b=>{O?.(b),g?B(b):v.next(b)},()=>{j=!0},void 0,()=>{if(j)try{for(R--;M.length&&R<E;){const b=M.shift();s?(0,T.f)(v,s,()=>P(b)):P(b)}F()}catch(b){v.error(b)}}))};return c.subscribe((0,p.x)(v,B,()=>{K=!0,F()})),()=>{f?.()}}(E,O,c,L)))}},3900:(A,U,l)=>{l.d(U,{w:()=>T});var D=l(8421),m=l(4482),t=l(5403);function T(p,d){return(0,m.e)((C,u)=>{let c=null,v=0,L=!1;const E=()=>L&&!c&&u.complete();C.subscribe((0,t.x)(u,O=>{c?.unsubscribe();let g=0;const s=v++;(0,D.Xf)(p(O,s)).subscribe(c=(0,t.x)(u,f=>u.next(d?d(O,f,s,g++):f),()=>{c=null,E()}))},()=>{L=!0,E()}))})}},2722:(A,U,l)=>{l.d(U,{R:()=>p});var D=l(4482),m=l(5403),t=l(8421),T=l(5032);function p(d){return(0,D.e)((C,u)=>{(0,t.Xf)(d).subscribe((0,m.x)(u,()=>u.complete(),T.Z)),!u.closed&&C.subscribe(u)})}},8505:(A,U,l)=>{l.d(U,{b:()=>p});var D=l(576),m=l(4482),t=l(5403),T=l(4671);function p(d,C,u){const c=(0,D.m)(d)||C||u?{next:d,error:C,complete:u}:d;return c?(0,m.e)((v,L)=>{var E;null===(E=c.subscribe)||void 0===E||E.call(c);let O=!0;v.subscribe((0,t.x)(L,g=>{var s;null===(s=c.next)||void 0===s||s.call(c,g),L.next(g)},()=>{var g;O=!1,null===(g=c.complete)||void 0===g||g.call(c),L.complete()},g=>{var s;O=!1,null===(s=c.error)||void 0===s||s.call(c,g),L.error(g)},()=>{var g,s;O&&(null===(g=c.unsubscribe)||void 0===g||g.call(c)),null===(s=c.finalize)||void 0===s||s.call(c)}))}):T.y}},3268:(A,U,l)=>{l.d(U,{Z:()=>T});var D=l(4004);const{isArray:m}=Array;function T(p){return(0,D.U)(d=>function t(p,d){return m(d)?p(...d):p(d)}(p,d))}},7044:(A,U,l)=>{l.d(U,{a:()=>T,w:()=>t});var D=l(3181),m=l(8944);let t=(()=>{class p{constructor(C,u){this.elementRef=C,this.renderer=u,this.hidden=null,this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","")}setHiddenAttribute(){this.hidden?this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","string"==typeof this.hidden?this.hidden:""):this.renderer.removeAttribute(this.elementRef.nativeElement,"hidden")}ngOnChanges(){this.setHiddenAttribute()}ngAfterViewInit(){this.setHiddenAttribute()}}return p.\u0275fac=function(C){return new(C||p)(m.\u0275\u0275directiveInject(m.ElementRef),m.\u0275\u0275directiveInject(m.Renderer2))},p.\u0275dir=m.\u0275\u0275defineDirective({type:p,selectors:[["","nz-button",""],["nz-button-group"],["","nz-icon",""],["","nz-menu-item",""],["","nz-submenu",""],["nz-select-top-control"],["nz-select-placeholder"],["nz-input-group"]],inputs:{hidden:"hidden"},features:[m.\u0275\u0275NgOnChangesFeature]}),p})(),T=(()=>{class p{}return p.\u0275fac=function(C){return new(C||p)},p.\u0275mod=m.\u0275\u0275defineNgModule({type:p}),p.\u0275inj=m.\u0275\u0275defineInjector({imports:[D.PlatformModule]}),p})()},9155:(A,U,l)=>{l.r(U),l.d(U,{NzUploadBtnComponent:()=>H,NzUploadComponent:()=>oe,NzUploadListComponent:()=>Q,NzUploadModule:()=>ae});var D=l(6623),m=l(3902),t=l(8944),T=l(7579),p=l(9646),d=l(9751),C=l(727),u=l(4968),c=l(3900),v=l(4004),L=l(8505),E=l(2722),O=l(9300),g=l(8932),s=l(459),f=l(417),M=l(3181),R=l(4917),W=l(4342),K=l(8728),F=l(9009),B=l(7044),P=l(655),w=l(3187),j=l(2662),b=l(4808),X=l(7086);const J=["file"],Y=["nz-upload-btn",""],k=["*"];function G(n,r){}const V=function(n){return{$implicit:n}};function q(n,r){if(1&n&&(t.\u0275\u0275elementStart(0,"div",18),t.\u0275\u0275template(1,G,0,0,"ng-template",19),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit,i=t.\u0275\u0275reference(5);t.\u0275\u0275classProp("ant-upload-list-item-file",!e.isUploading),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",i)("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(4,V,e))}}function tt(n,r){if(1&n&&t.\u0275\u0275element(0,"img",22),2&n){const e=t.\u0275\u0275nextContext(3).$implicit;t.\u0275\u0275property("src",e.thumbUrl||e.url,t.\u0275\u0275sanitizeUrl),t.\u0275\u0275attribute("alt",e.name)}}function et(n,r){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"a",20),t.\u0275\u0275listener("click",function(o){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2).$implicit,_=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(_.handlePreview(a,o))}),t.\u0275\u0275template(1,tt,1,2,"img",21),t.\u0275\u0275elementEnd()}if(2&n){t.\u0275\u0275nextContext();const e=t.\u0275\u0275reference(5),i=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275classProp("ant-upload-list-item-file",!i.isImageUrl),t.\u0275\u0275property("href",i.url||i.thumbUrl,t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.isImageUrl)("ngIfElse",e)}}function nt(n,r){}function it(n,r){if(1&n&&(t.\u0275\u0275elementStart(0,"div",23),t.\u0275\u0275template(1,nt,0,0,"ng-template",19),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit,i=t.\u0275\u0275reference(5);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",i)("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(2,V,e))}}function ot(n,r){}function at(n,r){if(1&n&&t.\u0275\u0275template(0,ot,0,0,"ng-template",19),2&n){const e=t.\u0275\u0275nextContext(2).$implicit,i=t.\u0275\u0275reference(5);t.\u0275\u0275property("ngTemplateOutlet",i)("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(2,V,e))}}function lt(n,r){if(1&n&&(t.\u0275\u0275elementContainerStart(0,13),t.\u0275\u0275template(1,q,2,6,"div",14),t.\u0275\u0275template(2,et,2,5,"a",15),t.\u0275\u0275template(3,it,2,4,"div",16),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(4,at,1,4,"ng-template",null,17,t.\u0275\u0275templateRefExtractor)),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275property("ngSwitch",e.iconType),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngSwitchCase","uploading"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngSwitchCase","thumbnail")}}function rt(n,r){1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"span",29),t.\u0275\u0275elementContainerEnd())}function st(n,r){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,rt,2,0,"ng-container",24),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit,i=t.\u0275\u0275reference(4);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.isUploading)("ngIfElse",i)}}function pt(n,r){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(5);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.locale.uploading," ")}}function ct(n,r){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,pt,2,1,"ng-container",24),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2).$implicit,i=t.\u0275\u0275reference(4);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.isUploading)("ngIfElse",i)}}function dt(n,r){if(1&n&&t.\u0275\u0275element(0,"span",30),2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275property("nzType",e.isUploading?"loading":"paper-clip")}}function _t(n,r){if(1&n&&(t.\u0275\u0275elementContainerStart(0)(1,13),t.\u0275\u0275template(2,st,2,2,"ng-container",27),t.\u0275\u0275template(3,ct,2,2,"ng-container",27),t.\u0275\u0275template(4,dt,1,1,"span",28),t.\u0275\u0275elementContainerEnd()()),2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngSwitch",e.listType),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngSwitchCase","picture"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngSwitchCase","picture-card")}}function mt(n,r){}function ut(n,r){if(1&n&&t.\u0275\u0275element(0,"span",31),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275property("nzType",e.isImageUrl?"picture":"file")}}function ft(n,r){if(1&n&&(t.\u0275\u0275template(0,_t,5,3,"ng-container",24),t.\u0275\u0275template(1,mt,0,0,"ng-template",19,25,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275template(3,ut,1,1,"ng-template",null,26,t.\u0275\u0275templateRefExtractor)),2&n){const e=r.$implicit,i=t.\u0275\u0275reference(2),o=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngIf",!o.iconRender)("ngIfElse",i),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",o.iconRender)("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(4,V,e))}}function ht(n,r){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",33),t.\u0275\u0275listener("click",function(o){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2).$implicit,_=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(_.handleRemove(a,o))}),t.\u0275\u0275element(1,"span",34),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275attribute("title",e.locale.removeFile)}}function gt(n,r){if(1&n&&t.\u0275\u0275template(0,ht,2,1,"button",32),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngIf",e.icons.showRemoveIcon)}}function zt(n,r){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",33),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext(2).$implicit,a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.handleDownload(o))}),t.\u0275\u0275element(1,"span",35),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(3);t.\u0275\u0275attribute("title",e.locale.downloadFile)}}function Ct(n,r){if(1&n&&t.\u0275\u0275template(0,zt,2,1,"button",32),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275property("ngIf",e.showDownload)}}function vt(n,r){}function yt(n,r){}function xt(n,r){if(1&n&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,vt,0,0,"ng-template",10),t.\u0275\u0275template(2,yt,0,0,"ng-template",10),t.\u0275\u0275elementEnd()),2&n){t.\u0275\u0275nextContext(2);const e=t.\u0275\u0275reference(9),i=t.\u0275\u0275reference(7),o=t.\u0275\u0275nextContext();t.\u0275\u0275classMapInterpolate1("ant-upload-list-item-card-actions ","picture"===o.listType?"picture":"",""),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",e),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",i)}}function Et(n,r){if(1&n&&t.\u0275\u0275template(0,xt,3,5,"span",36),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngIf","picture-card"!==e.listType)}}function Tt(n,r){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"a",39),t.\u0275\u0275listener("click",function(o){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2).$implicit,_=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(_.handlePreview(a,o))}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275property("href",e.url,t.\u0275\u0275sanitizeUrl),t.\u0275\u0275attribute("title",e.name)("download",e.linkProps&&e.linkProps.download),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.name," ")}}function Ut(n,r){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span",40),t.\u0275\u0275listener("click",function(o){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2).$implicit,_=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(_.handlePreview(a,o))}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275attribute("title",e.name),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",e.name," ")}}function Dt(n,r){}function Ot(n,r){if(1&n&&(t.\u0275\u0275template(0,Tt,2,4,"a",37),t.\u0275\u0275template(1,Ut,2,2,"span",38),t.\u0275\u0275template(2,Dt,0,0,"ng-template",10)),2&n){const e=t.\u0275\u0275nextContext().$implicit,i=t.\u0275\u0275reference(11);t.\u0275\u0275property("ngIf",e.url),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!e.url),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",i)}}function Lt(n,r){}function It(n,r){}const Mt=function(){return{opacity:.5,"pointer-events":"none"}};function Pt(n,r){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"a",44),t.\u0275\u0275listener("click",function(o){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext(2).$implicit,_=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(_.handlePreview(a,o))}),t.\u0275\u0275element(1,"span",45),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(2).$implicit,i=t.\u0275\u0275nextContext();t.\u0275\u0275property("href",e.url||e.thumbUrl,t.\u0275\u0275sanitizeUrl)("ngStyle",e.url||e.thumbUrl?null:t.\u0275\u0275pureFunction0(3,Mt)),t.\u0275\u0275attribute("title",i.locale.previewFile)}}function wt(n,r){}function Rt(n,r){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,wt,0,0,"ng-template",10),t.\u0275\u0275elementContainerEnd()),2&n){t.\u0275\u0275nextContext(2);const e=t.\u0275\u0275reference(9);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",e)}}function Nt(n,r){}function bt(n,r){if(1&n&&(t.\u0275\u0275elementStart(0,"span",41),t.\u0275\u0275template(1,Pt,2,4,"a",42),t.\u0275\u0275template(2,Rt,2,1,"ng-container",43),t.\u0275\u0275template(3,Nt,0,0,"ng-template",10),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit,i=t.\u0275\u0275reference(7),o=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",o.icons.showPreviewIcon),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","done"===e.status),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",i)}}function Ft(n,r){if(1&n&&(t.\u0275\u0275elementStart(0,"div",46),t.\u0275\u0275element(1,"nz-progress",47),t.\u0275\u0275elementEnd()),2&n){const e=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("nzPercent",e.percent)("nzShowInfo",!1)("nzStrokeWidth",2)}}function St(n,r){if(1&n&&(t.\u0275\u0275elementStart(0,"div")(1,"div",1),t.\u0275\u0275template(2,lt,6,3,"ng-template",null,2,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275template(4,ft,5,6,"ng-template",null,3,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275template(6,gt,1,1,"ng-template",null,4,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275template(8,Ct,1,1,"ng-template",null,5,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275template(10,Et,1,1,"ng-template",null,6,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275template(12,Ot,3,3,"ng-template",null,7,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementStart(14,"div",8)(15,"span",9),t.\u0275\u0275template(16,Lt,0,0,"ng-template",10),t.\u0275\u0275template(17,It,0,0,"ng-template",10),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(18,bt,4,3,"span",11),t.\u0275\u0275template(19,Ft,2,3,"div",12),t.\u0275\u0275elementEnd()()),2&n){const e=r.$implicit,i=t.\u0275\u0275reference(3),o=t.\u0275\u0275reference(13),a=t.\u0275\u0275nextContext();t.\u0275\u0275classMapInterpolate1("ant-upload-list-",a.listType,"-container"),t.\u0275\u0275advance(1),t.\u0275\u0275classMapInterpolate2("ant-upload-list-item ant-upload-list-item-",e.status," ant-upload-list-item-list-type-",a.listType,""),t.\u0275\u0275property("@itemState",void 0)("nzTooltipTitle","error"===e.status?e.message:null),t.\u0275\u0275attribute("data-key",e.key),t.\u0275\u0275advance(15),t.\u0275\u0275property("ngTemplateOutlet",i),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",o),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf","picture-card"===a.listType&&!e.isUploading),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.isUploading)}}const At=["uploadComp"],Bt=["listComp"],Wt=function(){return[]};function $t(n,r){if(1&n&&t.\u0275\u0275element(0,"nz-upload-list",8,9),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275styleProp("display",e.nzShowUploadList?"":"none"),t.\u0275\u0275property("locale",e.locale)("listType",e.nzListType)("items",e.nzFileList||t.\u0275\u0275pureFunction0(13,Wt))("icons",e.nzShowUploadList)("iconRender",e.nzIconRender)("previewFile",e.nzPreviewFile)("previewIsImage",e.nzPreviewIsImage)("onPreview",e.nzPreview)("onRemove",e.onRemove)("onDownload",e.nzDownload)("dir",e.dir)}}function Kt(n,r){1&n&&t.\u0275\u0275elementContainer(0)}function jt(n,r){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Kt,1,0,"ng-container",10),t.\u0275\u0275elementContainerEnd()),2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",e.nzFileListRender)("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(2,V,e.nzFileList))}}function Vt(n,r){if(1&n&&(t.\u0275\u0275template(0,$t,2,14,"nz-upload-list",6),t.\u0275\u0275template(1,jt,2,4,"ng-container",7)),2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngIf",e.locale&&!e.nzFileListRender),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.nzFileListRender)}}function kt(n,r){1&n&&t.\u0275\u0275projection(0)}function Ht(n,r){}function Zt(n,r){if(1&n&&(t.\u0275\u0275elementStart(0,"div",11)(1,"div",12,13),t.\u0275\u0275template(3,Ht,0,0,"ng-template",14),t.\u0275\u0275elementEnd()()),2&n){const e=t.\u0275\u0275nextContext(),i=t.\u0275\u0275reference(3);t.\u0275\u0275styleProp("display",e.nzShowButton?"":"none"),t.\u0275\u0275property("ngClass",e.classList),t.\u0275\u0275advance(1),t.\u0275\u0275property("options",e._btnOptions),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngTemplateOutlet",i)}}function Qt(n,r){}function Xt(n,r){}function Jt(n,r){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",15),t.\u0275\u0275listener("drop",function(o){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.fileDrop(o))})("dragover",function(o){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.fileDrop(o))})("dragleave",function(o){t.\u0275\u0275restoreView(e);const a=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(a.fileDrop(o))}),t.\u0275\u0275elementStart(2,"div",16,13)(4,"div",17),t.\u0275\u0275template(5,Qt,0,0,"ng-template",14),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(6,Xt,0,0,"ng-template",14),t.\u0275\u0275elementContainerEnd()}if(2&n){const e=t.\u0275\u0275nextContext(),i=t.\u0275\u0275reference(3),o=t.\u0275\u0275reference(1);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",e.classList),t.\u0275\u0275advance(1),t.\u0275\u0275property("options",e._btnOptions),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngTemplateOutlet",i),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",o)}}function Yt(n,r){}function Gt(n,r){}function qt(n,r){if(1&n&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Yt,0,0,"ng-template",14),t.\u0275\u0275template(2,Gt,0,0,"ng-template",14),t.\u0275\u0275elementContainerEnd()),2&n){t.\u0275\u0275nextContext(2);const e=t.\u0275\u0275reference(1),i=t.\u0275\u0275reference(5);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",e),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",i)}}function te(n,r){if(1&n&&t.\u0275\u0275template(0,qt,3,2,"ng-container",3),2&n){const e=t.\u0275\u0275nextContext(),i=t.\u0275\u0275reference(10);t.\u0275\u0275property("ngIf","picture-card"===e.nzListType)("ngIfElse",i)}}function ee(n,r){}function ne(n,r){}function ie(n,r){if(1&n&&(t.\u0275\u0275template(0,ee,0,0,"ng-template",14),t.\u0275\u0275template(1,ne,0,0,"ng-template",14)),2&n){t.\u0275\u0275nextContext();const e=t.\u0275\u0275reference(5),i=t.\u0275\u0275reference(1);t.\u0275\u0275property("ngTemplateOutlet",e),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",i)}}let H=(()=>{class n{constructor(e,i,o){if(this.ngZone=e,this.http=i,this.elementRef=o,this.reqs={},this.destroy=!1,this.destroy$=new T.x,!i)throw new Error("Not found 'HttpClient', You can import 'HttpClientModule' in your root module.")}onClick(){this.options.disabled||!this.options.openFileDialogOnClick||this.file.nativeElement.click()}onFileDrop(e){if(this.options.disabled||"dragover"===e.type)e.preventDefault();else{if(this.options.directory)this.traverseFileTree(e.dataTransfer.items);else{const i=Array.prototype.slice.call(e.dataTransfer.files).filter(o=>this.attrAccept(o,this.options.accept));i.length&&this.uploadFiles(i)}e.preventDefault()}}onChange(e){if(this.options.disabled)return;const i=e.target;this.uploadFiles(i.files),i.value=""}traverseFileTree(e){const i=(o,a)=>{o.isFile?o.file(_=>{this.attrAccept(_,this.options.accept)&&this.uploadFiles([_])}):o.isDirectory&&o.createReader().readEntries(h=>{for(const y of h)i(y,`${a}${o.name}/`)})};for(const o of e)i(o.webkitGetAsEntry(),"")}attrAccept(e,i){if(e&&i){const o=Array.isArray(i)?i:i.split(","),a=`${e.name}`,_=`${e.type}`,h=_.replace(/\/.*$/,"");return o.some(y=>{const x=y.trim();return"."===x.charAt(0)?-1!==a.toLowerCase().indexOf(x.toLowerCase(),a.toLowerCase().length-x.toLowerCase().length):/\/\*$/.test(x)?h===x.replace(/\/.*$/,""):_===x})}return!0}attachUid(e){return e.uid||(e.uid=Math.random().toString(36).substring(2)),e}uploadFiles(e){let i=(0,p.of)(Array.prototype.slice.call(e));this.options.filters&&this.options.filters.forEach(o=>{i=i.pipe((0,c.w)(a=>{const _=o.fn(a);return _ instanceof d.y?_:(0,p.of)(_)}))}),i.subscribe(o=>{o.forEach(a=>{this.attachUid(a),this.upload(a,o)})},o=>{(0,g.ZK)("Unhandled upload filter error",o)})}upload(e,i){if(!this.options.beforeUpload)return this.post(e);const o=this.options.beforeUpload(e,i);if(o instanceof d.y)o.subscribe(a=>{const _=Object.prototype.toString.call(a);"[object File]"===_||"[object Blob]"===_?(this.attachUid(a),this.post(a)):"boolean"==typeof a&&!1!==a&&this.post(e)},a=>{(0,g.ZK)("Unhandled upload beforeUpload error",a)});else if(!1!==o)return this.post(e)}post(e){if(this.destroy)return;let o,i=(0,p.of)(e);const a=this.options,{uid:_}=e,{action:h,data:y,headers:x,transformFile:I}=a,S={action:"string"==typeof h?h:"",name:a.name,headers:x,file:e,postFile:e,data:y,withCredentials:a.withCredentials,onProgress:a.onProgress?z=>{a.onProgress(z,e)}:void 0,onSuccess:(z,N)=>{this.clean(_),a.onSuccess(z,e,N)},onError:z=>{this.clean(_),a.onError(z,e)}};if("function"==typeof h){const z=h(e);z instanceof d.y?i=i.pipe((0,c.w)(()=>z),(0,v.U)(N=>(S.action=N,e))):S.action=z}if("function"==typeof I){const z=I(e);i=i.pipe((0,c.w)(()=>z instanceof d.y?z:(0,p.of)(z)),(0,L.b)(N=>o=N))}if("function"==typeof y){const z=y(e);z instanceof d.y?i=i.pipe((0,c.w)(()=>z),(0,v.U)(N=>(S.data=N,o??e))):S.data=z}if("function"==typeof x){const z=x(e);z instanceof d.y?i=i.pipe((0,c.w)(()=>z),(0,v.U)(N=>(S.headers=N,o??e))):S.headers=z}i.subscribe(z=>{S.postFile=z;const N=(a.customRequest||this.xhr).call(this,S);N instanceof C.w0||(0,g.ZK)("Must return Subscription type in '[nzCustomRequest]' property"),this.reqs[_]=N,a.onStart(e)})}xhr(e){const i=new FormData;e.data&&Object.keys(e.data).map(a=>{i.append(a,e.data[a])}),i.append(e.name,e.postFile),e.headers||(e.headers={}),null!==e.headers["X-Requested-With"]?e.headers["X-Requested-With"]="XMLHttpRequest":delete e.headers["X-Requested-With"];const o=new m.HttpRequest("POST",e.action,i,{reportProgress:!0,withCredentials:e.withCredentials,headers:new m.HttpHeaders(e.headers)});return this.http.request(o).subscribe(a=>{a.type===m.HttpEventType.UploadProgress?(a.total>0&&(a.percent=a.loaded/a.total*100),e.onProgress(a,e.file)):a instanceof m.HttpResponse&&e.onSuccess(a.body,e.file,a)},a=>{this.abort(e.file),e.onError(a,e.file)})}clean(e){const i=this.reqs[e];i instanceof C.w0&&i.unsubscribe(),delete this.reqs[e]}abort(e){e?this.clean(e&&e.uid):Object.keys(this.reqs).forEach(i=>this.clean(i))}ngOnInit(){this.ngZone.runOutsideAngular(()=>{(0,u.R)(this.elementRef.nativeElement,"click").pipe((0,E.R)(this.destroy$)).subscribe(()=>this.onClick()),(0,u.R)(this.elementRef.nativeElement,"keydown").pipe((0,E.R)(this.destroy$)).subscribe(e=>{this.options.disabled||("Enter"===e.key||e.keyCode===D.ENTER)&&this.onClick()})})}ngOnDestroy(){this.destroy=!0,this.destroy$.next(),this.abort()}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(t.NgZone),t.\u0275\u0275directiveInject(m.HttpClient,8),t.\u0275\u0275directiveInject(t.ElementRef))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["","nz-upload-btn",""]],viewQuery:function(e,i){if(1&e&&t.\u0275\u0275viewQuery(J,7),2&e){let o;t.\u0275\u0275queryRefresh(o=t.\u0275\u0275loadQuery())&&(i.file=o.first)}},hostAttrs:[1,"ant-upload"],hostVars:4,hostBindings:function(e,i){1&e&&t.\u0275\u0275listener("drop",function(a){return i.onFileDrop(a)})("dragover",function(a){return i.onFileDrop(a)}),2&e&&(t.\u0275\u0275attribute("tabindex","0")("role","button"),t.\u0275\u0275classProp("ant-upload-disabled",i.options.disabled))},inputs:{options:"options"},exportAs:["nzUploadBtn"],attrs:Y,ngContentSelectors:k,decls:3,vars:4,consts:[["type","file",2,"display","none",3,"multiple","change"],["file",""]],template:function(e,i){1&e&&(t.\u0275\u0275projectionDef(),t.\u0275\u0275elementStart(0,"input",0,1),t.\u0275\u0275listener("change",function(a){return i.onChange(a)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275projection(2)),2&e&&(t.\u0275\u0275property("multiple",i.options.multiple),t.\u0275\u0275attribute("accept",i.options.accept)("directory",i.options.directory?"directory":null)("webkitdirectory",i.options.directory?"webkitdirectory":null))},encapsulation:2}),n})();const Z=n=>!!n&&0===n.indexOf("image/"),$=200;let Q=(()=>{class n{constructor(e,i,o,a){this.cdr=e,this.doc=i,this.ngZone=o,this.platform=a,this.list=[],this.locale={},this.iconRender=null,this.dir="ltr",this.destroy$=new T.x}get showPic(){return"picture"===this.listType||"picture-card"===this.listType}set items(e){this.list=e}genErr(e){return e.response&&"string"==typeof e.response?e.response:e.error&&e.error.statusText||this.locale.uploadError}extname(e){const i=e.split("/"),a=i[i.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(a)||[""])[0]}isImageUrl(e){if(Z(e.type))return!0;const i=e.thumbUrl||e.url||"";if(!i)return!1;const o=this.extname(i);return!(!/^data:image\//.test(i)&&!/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg)$/i.test(o))||!/^data:/.test(i)&&!o}getIconType(e){return this.showPic?e.isUploading||!e.thumbUrl&&!e.url?"uploading":"thumbnail":""}previewImage(e){if(!Z(e.type)||!this.platform.isBrowser)return(0,p.of)("");const i=this.doc.createElement("canvas");i.width=$,i.height=$,i.style.cssText="position: fixed; left: 0; top: 0; width: 200px; height: 200px; z-index: 9999; display: none;",this.doc.body.appendChild(i);const o=i.getContext("2d"),a=new Image,_=URL.createObjectURL(e);return a.src=_,(0,u.R)(a,"load").pipe((0,v.U)(()=>{const{width:h,height:y}=a;let x=$,I=$,S=0,z=0;h<y?(I=y*($/h),z=-(I-x)/2):(x=h*($/y),S=-(x-I)/2);try{o.drawImage(a,S,z,x,I)}catch{}const N=i.toDataURL();return this.doc.body.removeChild(i),URL.revokeObjectURL(_),N}))}genThumb(){if(!this.platform.isBrowser)return;const e=window;!this.showPic||typeof document>"u"||typeof e>"u"||!e.FileReader||!e.File||this.list.filter(i=>i.originFileObj instanceof File&&void 0===i.thumbUrl).forEach(i=>{i.thumbUrl="";const o=(this.previewFile?this.previewFile(i):this.previewImage(i.originFileObj)).pipe((0,E.R)(this.destroy$));this.ngZone.runOutsideAngular(()=>{o.subscribe(a=>{this.ngZone.run(()=>{i.thumbUrl=a,this.detectChanges()})})})})}showDownload(e){return!(!this.icons.showDownloadIcon||"done"!==e.status)}fixData(){this.list.forEach(e=>{e.isUploading="uploading"===e.status,e.message=this.genErr(e),e.linkProps="string"==typeof e.linkProps?JSON.parse(e.linkProps):e.linkProps,e.isImageUrl=this.previewIsImage?this.previewIsImage(e):this.isImageUrl(e),e.iconType=this.getIconType(e),e.showDownload=this.showDownload(e)})}handlePreview(e,i){if(this.onPreview)return i.preventDefault(),this.onPreview(e)}handleRemove(e,i){i.preventDefault(),this.onRemove&&this.onRemove(e)}handleDownload(e){"function"==typeof this.onDownload?this.onDownload(e):e.url&&window.open(e.url)}detectChanges(){this.fixData(),this.cdr.detectChanges()}ngOnChanges(){this.fixData(),this.genThumb()}ngOnDestroy(){this.destroy$.next()}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(f.DOCUMENT),t.\u0275\u0275directiveInject(t.NgZone),t.\u0275\u0275directiveInject(M.Platform))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["nz-upload-list"]],hostAttrs:[1,"ant-upload-list"],hostVars:8,hostBindings:function(e,i){2&e&&t.\u0275\u0275classProp("ant-upload-list-rtl","rtl"===i.dir)("ant-upload-list-text","text"===i.listType)("ant-upload-list-picture","picture"===i.listType)("ant-upload-list-picture-card","picture-card"===i.listType)},inputs:{locale:"locale",listType:"listType",items:"items",icons:"icons",onPreview:"onPreview",onRemove:"onRemove",onDownload:"onDownload",previewFile:"previewFile",previewIsImage:"previewIsImage",iconRender:"iconRender",dir:"dir"},exportAs:["nzUploadList"],features:[t.\u0275\u0275NgOnChangesFeature],decls:1,vars:1,consts:[[3,"class",4,"ngFor","ngForOf"],["nz-tooltip","",3,"nzTooltipTitle"],["icon",""],["iconNode",""],["removeIcon",""],["downloadIcon",""],["downloadOrDelete",""],["preview",""],[1,"ant-upload-list-item-info"],[1,"ant-upload-span"],[3,"ngTemplateOutlet"],["class","ant-upload-list-item-actions",4,"ngIf"],["class","ant-upload-list-item-progress",4,"ngIf"],[3,"ngSwitch"],["class","ant-upload-list-item-thumbnail",3,"ant-upload-list-item-file",4,"ngSwitchCase"],["class","ant-upload-list-item-thumbnail","target","_blank","rel","noopener noreferrer",3,"ant-upload-list-item-file","href","click",4,"ngSwitchCase"],["class","ant-upload-text-icon",4,"ngSwitchDefault"],["noImageThumbTpl",""],[1,"ant-upload-list-item-thumbnail"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["target","_blank","rel","noopener noreferrer",1,"ant-upload-list-item-thumbnail",3,"href","click"],["class","ant-upload-list-item-image",3,"src",4,"ngIf","ngIfElse"],[1,"ant-upload-list-item-image",3,"src"],[1,"ant-upload-text-icon"],[4,"ngIf","ngIfElse"],["customIconRender",""],["iconNodeFileIcon",""],[4,"ngSwitchCase"],["nz-icon","",3,"nzType",4,"ngSwitchDefault"],["nz-icon","","nzType","loading"],["nz-icon","",3,"nzType"],["nz-icon","","nzTheme","twotone",3,"nzType"],["type","button","nz-button","","nzType","text","nzSize","small","class","ant-upload-list-item-card-actions-btn",3,"click",4,"ngIf"],["type","button","nz-button","","nzType","text","nzSize","small",1,"ant-upload-list-item-card-actions-btn",3,"click"],["nz-icon","","nzType","delete"],["nz-icon","","nzType","download"],[3,"class",4,"ngIf"],["target","_blank","rel","noopener noreferrer","class","ant-upload-list-item-name",3,"href","click",4,"ngIf"],["class","ant-upload-list-item-name",3,"click",4,"ngIf"],["target","_blank","rel","noopener noreferrer",1,"ant-upload-list-item-name",3,"href","click"],[1,"ant-upload-list-item-name",3,"click"],[1,"ant-upload-list-item-actions"],["target","_blank","rel","noopener noreferrer",3,"href","ngStyle","click",4,"ngIf"],[4,"ngIf"],["target","_blank","rel","noopener noreferrer",3,"href","ngStyle","click"],["nz-icon","","nzType","eye"],[1,"ant-upload-list-item-progress"],["nzType","line",3,"nzPercent","nzShowInfo","nzStrokeWidth"]],template:function(e,i){1&e&&t.\u0275\u0275template(0,St,20,14,"div",0),2&e&&t.\u0275\u0275property("ngForOf",i.list)},dependencies:[f.NgForOf,f.NgIf,f.NgTemplateOutlet,f.NgStyle,f.NgSwitch,f.NgSwitchCase,f.NgSwitchDefault,R.NzTooltipDirective,W.NzProgressComponent,K.NzIconDirective,F.NzButtonComponent,B.w],encapsulation:2,data:{animation:[(0,s.trigger)("itemState",[(0,s.transition)(":enter",[(0,s.style)({height:"0",width:"0",opacity:0}),(0,s.animate)(150,(0,s.style)({height:"*",width:"*",opacity:1}))]),(0,s.transition)(":leave",[(0,s.animate)(150,(0,s.style)({height:"0",width:"0",opacity:0}))])])]},changeDetection:0}),n})(),oe=(()=>{class n{constructor(e,i,o,a,_){this.ngZone=e,this.document=i,this.cdr=o,this.i18n=a,this.directionality=_,this.destroy$=new T.x,this.dir="ltr",this.nzType="select",this.nzLimit=0,this.nzSize=0,this.nzDirectory=!1,this.nzOpenFileDialogOnClick=!0,this.nzFilter=[],this.nzFileList=[],this.nzDisabled=!1,this.nzListType="text",this.nzMultiple=!1,this.nzName="file",this._showUploadList=!0,this.nzShowButton=!0,this.nzWithCredentials=!1,this.nzIconRender=null,this.nzFileListRender=null,this.nzChange=new t.EventEmitter,this.nzFileListChange=new t.EventEmitter,this.onStart=h=>{this.nzFileList||(this.nzFileList=[]);const y=this.fileToObject(h);y.status="uploading",this.nzFileList=this.nzFileList.concat(y),this.nzFileListChange.emit(this.nzFileList),this.nzChange.emit({file:y,fileList:this.nzFileList,type:"start"}),this.detectChangesList()},this.onProgress=(h,y)=>{const I=this.getFileItem(y,this.nzFileList);I.percent=h.percent,this.nzChange.emit({event:h,file:{...I},fileList:this.nzFileList,type:"progress"}),this.detectChangesList()},this.onSuccess=(h,y)=>{const x=this.nzFileList,I=this.getFileItem(y,x);I.status="done",I.response=h,this.nzChange.emit({file:{...I},fileList:x,type:"success"}),this.detectChangesList()},this.onError=(h,y)=>{const x=this.nzFileList,I=this.getFileItem(y,x);I.error=h,I.status="error",this.nzChange.emit({file:{...I},fileList:x,type:"error"}),this.detectChangesList()},this.onRemove=h=>{this.uploadComp.abort(h),h.status="removed";const y="function"==typeof this.nzRemove?this.nzRemove(h):this.nzRemove??!0;(y instanceof d.y?y:(0,p.of)(y)).pipe((0,O.h)(x=>x)).subscribe(()=>{this.nzFileList=this.removeFileItem(h,this.nzFileList),this.nzChange.emit({file:h,fileList:this.nzFileList,type:"removed"}),this.nzFileListChange.emit(this.nzFileList),this.cdr.detectChanges()})},this.prefixCls="ant-upload",this.classList=[]}set nzShowUploadList(e){this._showUploadList="boolean"==typeof e?(0,w.sw)(e):e}get nzShowUploadList(){return this._showUploadList}zipOptions(){"boolean"==typeof this.nzShowUploadList&&this.nzShowUploadList&&(this.nzShowUploadList={showPreviewIcon:!0,showRemoveIcon:!0,showDownloadIcon:!0});const e=this.nzFilter.slice();if(this.nzMultiple&&this.nzLimit>0&&-1===e.findIndex(i=>"limit"===i.name)&&e.push({name:"limit",fn:i=>i.slice(-this.nzLimit)}),this.nzSize>0&&-1===e.findIndex(i=>"size"===i.name)&&e.push({name:"size",fn:i=>i.filter(o=>o.size/1024<=this.nzSize)}),this.nzFileType&&this.nzFileType.length>0&&-1===e.findIndex(i=>"type"===i.name)){const i=this.nzFileType.split(",");e.push({name:"type",fn:o=>o.filter(a=>~i.indexOf(a.type))})}return this._btnOptions={disabled:this.nzDisabled,accept:this.nzAccept,action:this.nzAction,directory:this.nzDirectory,openFileDialogOnClick:this.nzOpenFileDialogOnClick,beforeUpload:this.nzBeforeUpload,customRequest:this.nzCustomRequest,data:this.nzData,headers:this.nzHeaders,name:this.nzName,multiple:this.nzMultiple,withCredentials:this.nzWithCredentials,filters:e,transformFile:this.nzTransformFile,onStart:this.onStart,onProgress:this.onProgress,onSuccess:this.onSuccess,onError:this.onError},this}fileToObject(e){return{lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.filename||e.name,size:e.size,type:e.type,uid:e.uid,response:e.response,error:e.error,percent:0,originFileObj:e}}getFileItem(e,i){return i.filter(o=>o.uid===e.uid)[0]}removeFileItem(e,i){return i.filter(o=>o.uid!==e.uid)}fileDrop(e){e.type!==this.dragState&&(this.dragState=e.type,this.setClassMap())}detectChangesList(){this.cdr.detectChanges(),this.listComp?.detectChanges()}setClassMap(){let e=[];"drag"===this.nzType?(this.nzFileList.some(i=>"uploading"===i.status)&&e.push(`${this.prefixCls}-drag-uploading`),"dragover"===this.dragState&&e.push(`${this.prefixCls}-drag-hover`)):e=[`${this.prefixCls}-select-${this.nzListType}`],this.classList=[this.prefixCls,`${this.prefixCls}-${this.nzType}`,...e,this.nzDisabled&&`${this.prefixCls}-disabled`||"","rtl"===this.dir&&`${this.prefixCls}-rtl`||""].filter(i=>!!i),this.cdr.detectChanges()}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe((0,E.R)(this.destroy$)).subscribe(e=>{this.dir=e,this.setClassMap(),this.cdr.detectChanges()}),this.i18n.localeChange.pipe((0,E.R)(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Upload"),this.detectChangesList()})}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>(0,u.R)(this.document.body,"drop").pipe((0,E.R)(this.destroy$)).subscribe(e=>{e.preventDefault(),e.stopPropagation()}))}ngOnChanges(){this.zipOptions().setClassMap()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(t.NgZone),t.\u0275\u0275directiveInject(f.DOCUMENT),t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(j.NzI18nService),t.\u0275\u0275directiveInject(b.Directionality,8))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["nz-upload"]],viewQuery:function(e,i){if(1&e&&(t.\u0275\u0275viewQuery(At,5),t.\u0275\u0275viewQuery(Bt,5)),2&e){let o;t.\u0275\u0275queryRefresh(o=t.\u0275\u0275loadQuery())&&(i.uploadComp=o.first),t.\u0275\u0275queryRefresh(o=t.\u0275\u0275loadQuery())&&(i.listComp=o.first)}},hostVars:2,hostBindings:function(e,i){2&e&&t.\u0275\u0275classProp("ant-upload-picture-card-wrapper","picture-card"===i.nzListType)},inputs:{nzType:"nzType",nzLimit:"nzLimit",nzSize:"nzSize",nzFileType:"nzFileType",nzAccept:"nzAccept",nzAction:"nzAction",nzDirectory:"nzDirectory",nzOpenFileDialogOnClick:"nzOpenFileDialogOnClick",nzBeforeUpload:"nzBeforeUpload",nzCustomRequest:"nzCustomRequest",nzData:"nzData",nzFilter:"nzFilter",nzFileList:"nzFileList",nzDisabled:"nzDisabled",nzHeaders:"nzHeaders",nzListType:"nzListType",nzMultiple:"nzMultiple",nzName:"nzName",nzShowUploadList:"nzShowUploadList",nzShowButton:"nzShowButton",nzWithCredentials:"nzWithCredentials",nzRemove:"nzRemove",nzPreview:"nzPreview",nzPreviewFile:"nzPreviewFile",nzPreviewIsImage:"nzPreviewIsImage",nzTransformFile:"nzTransformFile",nzDownload:"nzDownload",nzIconRender:"nzIconRender",nzFileListRender:"nzFileListRender"},outputs:{nzChange:"nzChange",nzFileListChange:"nzFileListChange"},exportAs:["nzUpload"],features:[t.\u0275\u0275NgOnChangesFeature],ngContentSelectors:k,decls:11,vars:2,consts:[["list",""],["con",""],["btn",""],[4,"ngIf","ngIfElse"],["select",""],["pic",""],[3,"display","locale","listType","items","icons","iconRender","previewFile","previewIsImage","onPreview","onRemove","onDownload","dir",4,"ngIf"],[4,"ngIf"],[3,"locale","listType","items","icons","iconRender","previewFile","previewIsImage","onPreview","onRemove","onDownload","dir"],["listComp",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["nz-upload-btn","",3,"options"],["uploadComp",""],[3,"ngTemplateOutlet"],[3,"ngClass","drop","dragover","dragleave"],["nz-upload-btn","",1,"ant-upload-btn",3,"options"],[1,"ant-upload-drag-container"]],template:function(e,i){if(1&e&&(t.\u0275\u0275projectionDef(),t.\u0275\u0275template(0,Vt,2,2,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275template(2,kt,1,0,"ng-template",null,1,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275template(4,Zt,4,5,"ng-template",null,2,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275template(6,Jt,7,4,"ng-container",3),t.\u0275\u0275template(7,te,1,2,"ng-template",null,4,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275template(9,ie,2,2,"ng-template",null,5,t.\u0275\u0275templateRefExtractor)),2&e){const o=t.\u0275\u0275reference(8);t.\u0275\u0275advance(6),t.\u0275\u0275property("ngIf","drag"===i.nzType)("ngIfElse",o)}},dependencies:[b.Dir,f.NgClass,f.NgIf,f.NgTemplateOutlet,H,Q],encapsulation:2,changeDetection:0}),(0,P.gn)([(0,w.Rn)()],n.prototype,"nzLimit",void 0),(0,P.gn)([(0,w.Rn)()],n.prototype,"nzSize",void 0),(0,P.gn)([(0,w.yF)()],n.prototype,"nzDirectory",void 0),(0,P.gn)([(0,w.yF)()],n.prototype,"nzOpenFileDialogOnClick",void 0),(0,P.gn)([(0,w.yF)()],n.prototype,"nzDisabled",void 0),(0,P.gn)([(0,w.yF)()],n.prototype,"nzMultiple",void 0),(0,P.gn)([(0,w.yF)()],n.prototype,"nzShowButton",void 0),(0,P.gn)([(0,w.yF)()],n.prototype,"nzWithCredentials",void 0),n})(),ae=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=t.\u0275\u0275defineInjector({imports:[b.BidiModule,f.CommonModule,X.FormsModule,M.PlatformModule,R.NzToolTipModule,W.NzProgressModule,j.NzI18nModule,K.NzIconModule,F.NzButtonModule]}),n})()}}]);